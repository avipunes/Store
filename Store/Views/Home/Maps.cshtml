
@{
    ViewBag.Title = "Maps";
    Layout = "~/Views/Shared/_afterLoginLayout.cshtml";
}

<script src="http://maps.google.com/maps/api/js?key=AIzaSyChdzK2qi0h5iSBTZpjUARAwU4rjDqnl_A&sensor=true"></script>

<script>

    var x = navigator.geolocation;
    x.getCurrentPosition(success, failure);

    function success(position) {
        var mylat = position.coords.latitude;
        var mylong = position.coords.longitude;

        $('#lat').html(mylat);
        $('#long').html(mylong);

        var coords = new google.maps.LatLng(mylat, mylong);

        var mapOptions = {
            zoom: 16,
            center: coords,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        }

        var map = new google.maps.Map(document.getElementById("map"), mapOptions);
        
        var marker = new google.maps.Marker({ map: map, position: coords });
    }
    
    function failure() {
        $('#lat').html("<p>Map is not working</p>");
    }

</script>
    
<style>
    #map{
        width:400px;
        height:400px;
    }
</style>

<h2>Maps</h2>

<div id="map">

</div>

<div id="lat"></div>
<div id="long"></div>




